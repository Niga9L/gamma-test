(this["webpackJsonpgamma-test"]=this["webpackJsonpgamma-test"]||[]).push([[0],{45:function(e,t,a){e.exports=a(56)},50:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n,o=a(0),r=a.n(o),c=a(4),i=a.n(c),d=(a(50),a(23)),s=a(19),u=Object(o.createContext)(),l=a(16),m=a(12),p=(n={},Object(l.a)(n,"ADD_NUMBER",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{widgetState:t.widgetState})})),Object(l.a)(n,"CHANGE_NAME",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{desktopState:t.desktopState})})),Object(l.a)(n,"ADD_DESKTOP",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{desktopState:t.desktopState})})),Object(l.a)(n,"CHANGE_DESKTOP",(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{currentDesktop:t.id})})),Object(l.a)(n,"DEFAULT",(function(e){return e})),n),h=function(e,t){return(p[t.type]||p.DEFAULT)(e,t)},g=function(e){return(new Date).getTime().toString()+Math.floor(Math.random()*Math.floor(e))},k=function(e){var t=e.children,a={desktopState:[{desktopId:(new Date).getTime().toString(),name:"\u041c\u043e\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0441\u0442\u043e\u043b"},{desktopId:g(20),name:"\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0441\u0442\u043e\u043b 2"}],widgetState:[{objectId:g(100),desktopPosition:(new Date).getTime().toString(),width:650,height:380,x:100,y:250},{objectId:g(100),desktopPosition:(new Date).getTime().toString(),width:550,height:300,x:1e3,y:150}],currentDesktop:(new Date).getTime().toString()},n=Object(o.useReducer)(h,a),c=Object(s.a)(n,2),i=c[0],l=c[1];return r.a.createElement(u.Provider,{value:{state:i,changeDesktop:function(e,t){var a=Object(d.a)(i.widgetState).map((function(a){return a.objectId===t&&(a.desktopPosition=e),a}));console.log(a),l({ADD_NUMBER:"ADD_NUMBER",widgetState:a})},changePosition:function(e,t){var a=Object(d.a)(i.widgetState).map((function(a){return a.objectId===e&&(a.x=t.x,a.y=t.y),a}));l({type:"ADD_NUMBER",widgetState:a})},changeSize:function(e,t,a){var n=Object(d.a)(i.widgetState).map((function(n){return n.objectId===e&&(n.width=t.width,n.height=t.height,n.x=a.x,n.y=a.y),n}));l({type:"ADD_NUMBER",widgetState:n})},changeDesktopName:function(e,t){var a=Object(d.a)(i.desktopState).map((function(a){return a.desktopId===t&&(a.name=e),a}));l({type:"CHANGE_NAME",desktopState:a})},addNewDesktop:function(){var e=[].concat(Object(d.a)(i.desktopState),[{desktopId:g(20),name:"\u041d\u043e\u0432\u044b\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0441\u0442\u043e\u043b"}]);l({type:"ADD_DESKTOP",desktopState:e})},changeCurrentDesktop:function(e){l({type:"CHANGE_DESKTOP",id:e})}}},t)},b=a(80),E=function(){var e=Object(o.useContext)(u),t=e.state,a=e.changeDesktopName,n=e.addNewDesktop,c=e.changeCurrentDesktop,i=t.desktopState,d=t.currentDesktop,l=Object(o.useState)(""),m=Object(s.a)(l,2),p=m[0],h=m[1],g=function(e){var t=e.target.getAttribute("data-id");c(t)};return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"dashboard-head"},r.a.createElement("input",{className:"dashboard-head-name",placeholder:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:p,onChange:function(e){return h(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(a(p,d),e.target.value="")},type:"text"})),r.a.createElement("ul",{className:"navbar-nav"},i.map((function(e){return r.a.createElement("li",{key:e.desktopId},r.a.createElement("span",{className:"nav-item","data-id":e.desktopId,onClick:g},e.name))})),r.a.createElement(b.a,{className:"icon",onClick:n},"add_circle")))},f=a(37),D={border:"solid 1px #ddd",background:"#D6FF79"},j=function(e){var t=Object(o.useContext)(u),a=t.changePosition,n=t.changeSize;return r.a.createElement(f.a,{style:D,onDragStop:function(t,n){var o={x:n.x,y:n.y};a(e.id,o)},onResizeStop:function(t,a,o,r,c){var i={width:o.style.width,height:o.style.height};n(e.id,i,c)},default:{x:e.x,y:e.y,width:e.width,height:e.height},bounds:".container"},e.children)},w=a(83),S=a(84),v=a(85),O=function(){var e=Object(o.useContext)(u).state,t=Object(o.useState)(null),a=Object(s.a)(t,2),n=a[0],c=a[1],i=e.widgetState,d=e.currentDesktop,l=e.desktopState,m=function(e){c(e.currentTarget)},p=function(){c(null)};return r.a.createElement(r.a.Fragment,null,i.map((function(e,t){if(e.desktopPosition===d)return r.a.createElement(j,{width:e.width,height:e.height,x:e.x,y:e.y,id:e.objectId,key:e.objectId},r.a.createElement("div",{className:"rnd-menu"},r.a.createElement("div",{className:"menu-changer"},r.a.createElement(w.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:m},r.a.createElement(b.a,{className:"changer"},"swap_horiz")),r.a.createElement(S.a,{"data-root":e.objectId,id:"simple",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:p},l.map((function(t){return r.a.createElement(v.a,{key:t.desktopId,"data-id":t.desktopId,"data-root":e.objectId,onClick:function(e){var a;t.desktopId,a=e,console.log(a.currentTarget.getParent("#simple")),p()}},t.name)}))))))})))},y=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"container"},r.a.createElement(O,null)))};var N=function(){return r.a.createElement(k,null,r.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.77ab8da7.chunk.js.map